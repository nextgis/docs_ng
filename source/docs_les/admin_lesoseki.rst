.. sectionauthor:: Ekaterina Petrunenko <ekaterina.petrunenko@nextgis.com>

Виджет "Лесосеки"
====================
Из стартового набора для данного виджета доступны для редактирования:

* Веб-карта “Карта для лесосек”
* Векторный слой "Лесосеки"
* Некоторые справочники из группы ресурсов "Справочники"

**Веб-карта** отвечает за визуальное представление объектов на карте, которую видит пользователь. Подробная информация о настройке веб-карты  доступна `здесь <https://docs.nextgis.ru/docs_ngweb/source/webmaps_admin.html>`_. 
Функционал веб-карты позволяет добавлять на нее векторные и растровые слои (точнее, стили этих слоев), например, сканированные планшеты лесоустройства или векторные полигоны выделов. Однако сперва такие данные необходимо загрузить в саму Веб ГИС (подробнее об этой процедуре можно прочитать `тут <https://docs.nextgis.ru/docs_ngcom/source/data_upload.html>`_). Из стартового набора данных в качестве слоев на веб-карту сразу можно добавить векторные слои "Инфраструктура" и "НЭП".
Также для веб-карты можно подключать другие подложки, помимо предустановленной. Подробней о добавлении подложки в Веб ГИС - `тут <https://docs.nextgis.ru/docs_ngcom/source/data_connect.html#ngcom-basemap-layer>`_.


.. hint::
   При добавлении на веб-карту векторного слоя, содержащего большое количество объектов с подписями, крайне рекомендуется в настройках стиля такого слоя установить отрисовку подписей с определенного масштаба (например, 50 000 и крупнее), а также выставить запрет на пересечение подписей. Это сохранит быстродействие приложения NextGIS Лес.


**Векторный слой “Лесосеки”** отвечает за отображение созданных пользователем лесосек. Так как он по умолчанию добавлен на видимую пользователю веб-карту “Карта для лесосек”, этого слоя нет в списке слоев веб-карты. 
О редактировании объектов векторного слоя и настройке отображения атрибутов можно почитать `тут <https://docs.nextgis.ru/docs_ngweb/source/admin_interface.html#ngw-feature-table>`_. Для слоя "Лесосеки" также уже есть дочерний ресурс - стиль, созданный и используемый по умолчанию. Так как это стиль MapServer, при необходиомсти его можно изменить прямо в браузере. 


 .. figure:: _static/admin_lesoseki_1.png
   :name: admin_lesoseki_1
   :align: center
   :width: 16cm

   Выбор редактирования стиля слоя "Лесосеки"


 .. figure:: _static/admin_lesoseki_2.png
   :name: admin_lesoseki_2
   :align: center
   :width: 16cm

   На странице редактирования стиля вкладка СТИЛЬ MAPSERVER позволяет внести изменения в код, описывающий стиль.


Подробней о параметрах стиля MapServer можно почитать `здесь <https://mapserver.org/mapfile/style.html>`_.

Поля для заполнения некоторых атрибутов слоя “Лесосеки” (например, “Вырубаемая древесная порода”, “Субъект РФ” и др.) для пользователя выглядят как выпадающие списки. В интерфейсе администратора таким атрибутам соответствуют **справочники**, хранящиеся в группе ресурсов “Справочники”. Администратор Веб ГИС может самостоятельно настраивать содержание справочников, подробнее об этом `тут <https://docs.nextgis.ru/docs_ngweb/source/layers.html#c>`_.


 .. figure:: _static/admin_lesoseki_3.png
   :name: admin_lesoseki_3
   :align: center
   :width: 16cm

   Справочник по лесничествам: слева - интерфейс пользователя, справа - администратора.
